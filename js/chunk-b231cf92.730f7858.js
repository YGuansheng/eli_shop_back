(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b231cf92"],{"033b":function(e,t,i){var n=i("3433");e.exports=n("navigator","userAgent")||""},"056a":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"editor",staticClass:"ql-editor d2p-quill",class:{"is-disabled":"disabled"},staticStyle:{width:"100%","min-height":"300px"}})},r=[],o=(i("f389"),i("384f"),i("9339")),a=i.n(o),l=(i("a753"),i("8096"),i("14e1"),i("0e05")),u=i("60bb"),s=i.n(u),c=i("0e00"),d=a.a.import("attributors/style/size");d.whitelist=["10px","14px","16px","18px","22px","26px","30px","34px","38px","45px"],a.a.register(d,!0);var f=["SimSun","SimHei","Microsoft-YaHei","KaiTi","FangSong","Arial","Times-New-Roman","sans-serif"],p=a.a.import("formats/font");p.whitelist=f,a.a.register(p,!0);var h={name:"d2p-quill",mixins:[c["a"].inputBase],props:{value:{type:String,required:!1,default:""},config:{type:Object},uploader:{type:Object,default:function(){return{}}}},data:function(){return{Quill:void 0,currentValue:"",options:{theme:"snow",bounds:document.body,debug:"warn",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:d.whitelist}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:["Microsoft-YaHei","SimSun","SimHei","KaiTi","Arial","Times-New-Roman"]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"书写你的内容",readOnly:!1}}},watch:{disabled:{handler:function(e){this.Quill&&this.Quill.enable(!e)},immediate:!0},value:{handler:function(e){e!==this.currentValue&&(this.currentValue=e,this.Quill&&(this.$emit("change",e),this.Quill.pasteHTML(this.value)))},immediate:!0}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$refs.editor;s.a.merge(this.options,this.config),this.Quill=new a.a(t,this.options);var i=this.Quill.getModule("toolbar");i.addHandler("image",(function(){e.handlerImage()})),this.Quill.enable(!1),this.Quill.pasteHTML(this.currentValue),this.disabled||this.$nextTick((function(){e.Quill.enable(!0)})),this.Quill.on("text-change",(function(t,i,n){var r=e.$refs.editor.children[0].innerHTML;e.currentValue=r,e.$emit("input",r),e.$emit("change",r)})),this.Quill.on("text-change",(function(t,i,n){e.$emit("text-change",t,i,n)})),this.Quill.on("selection-change",(function(t,i,n){e.$emit("selection-change",t,i,n)})),this.Quill.on("editor-change",(function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.$emit.apply(e,["editor-change",t].concat(n))})),this.$nextTick((function(){e.$emit("ready",{vm:e,quill:e.Quill})}))},handlerImage:function(){var e=this,t=this.Quill,i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("name","upload_file"),i.setAttribute("accept","image/png, image/gif, image/jpeg"),i.classList.add("ql-image"),i.addEventListener("change",(function(){var n=i.files[0],r={status:"uploading",progress:0},o=function(e){r.progress=e.percent},a=function(e){r.status="error",r.message="文件上传出错:"+e.message,console.log(e)},l={file:n,fileName:n.name,onProgress:o,onError:a};e.doUpload(l).then((function(e){var i=r.url=e.url;r.status="done";var n=t.getSelection(!0);t.insertEmbed(n.index,"image",i)}))})),i.click()},doUpload:function(e){return e.config=this.uploader,this.getUploader().then((function(t){return t.upload(e)}))},getUploader:function(){var e=this.type;return null!=this.uploader&&null!=this.uploader.type&&(e=this.uploader.type),l["a"].getUploader(e)},beforeUpload:function(e){return this.getUploader().beforeUpload(e)}}},g=h,m=(i("562b"),i("2877")),b=function(e){e.options.__source="node_modules/d2p-extends/src/full-editor/lib/d2-quill/index.vue"},v=b,x=Object(m["a"])(g,n,r,!1,null,null,null);"function"===typeof v&&v(x);t["default"]=x.exports},22660:function(e,t,i){"use strict";var n=i("6ed5"),r=i("4a98"),o=i("7c9b");e.exports=function(e,t,i){var a=n(t);a in e?r.f(e,a,o(0,i)):e[a]=i}},"384f":function(e,t,i){var n=i("4780"),r=i("4a98").f,o=Function.prototype,a=o.toString,l=/^\s*function ([^ (]*)/,u="name";!n||u in o||r(o,u,{configurable:!0,get:function(){try{return a.call(this).match(l)[1]}catch(e){return""}}})},"413d":function(e,t,i){var n,r,o=i("349a"),a=i("033b"),l=o.process,u=l&&l.versions,s=u&&u.v8;s?(n=s.split("."),r=n[0]+n[1]):a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(r=n[1]))),e.exports=r&&+r},"562b":function(e,t,i){"use strict";var n=i("9738"),r=i.n(n);r.a},"8f0c":function(e,t,i){var n=i("67e6"),r=i("dfb8"),o=i("413d"),a=r("species");e.exports=function(e){return o>=51||!n((function(){var t=[],i=t.constructor={};return i[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9738:function(e,t,i){},f389:function(e,t,i){"use strict";var n=i("49ca"),r=i("67e6"),o=i("9966"),a=i("b7dc"),l=i("862a"),u=i("fd6a"),s=i("22660"),c=i("10c6"),d=i("8f0c"),f=i("dfb8"),p=i("413d"),h=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",b=p>=51||!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),v=d("concat"),x=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)},w=!b||!v;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,i,n,r,o,a=l(this),d=c(a,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?a:arguments[t],x(o)){if(r=u(o.length),f+r>g)throw TypeError(m);for(i=0;i<r;i++,f++)i in o&&s(d,f,o[i])}else{if(f>=g)throw TypeError(m);s(d,f++,o)}return d.length=f,d}})}}]);